---
import IconExternalLink from '../components/icons/ExternalLink.astro';
import {bento} from '../content/mosaico/bento-images.js'
---

<section class="flex flex-row pt-[150px] pb-[calc(100vh-516.93px)] items-center overflow-hidden">
    <div id="call-to-action" class="flex flex-col gap-20 p-[20px]">
        <p class="text-wrap text-6xl sm:text-center">
            Crea una p√°gina web para tu <span class="font-semibold text-[var(--color-primary)]">negocio</span>
        </p>
        <div class="flex flex-row gap-2 items-center">
            <a href="#" class="px-3 py-2 rounded-2xl bg-[var(--color-primary)]/80 text-2xl text-[#f0f0f0]
                cursor-pointer font-light hover:bg-[var(--color-primary)] hover:scale-105
                transition-all duration-200 ease">
                Empieza ya
            </a>
            <a href="#" class="flex flex-row items-center gap-2 hover:underline
                px-3 py-2 rounded-2xl text-2xl text-[var(--color-text)]/80
                cursor-pointer font-light hover:text-[var(--color-text)]">
                Ver ejemplos
                <IconExternalLink />
            </a>
        </div>
    </div>
    <div id="bento" class="flex flex-wrap gap-4 items-center h-auto max-h-[calc(100vh-100px)] justify-center">
        {
            Array.from({ length: 18 }).map(() => {
                const randomIndex = Math.floor(Math.random() * (bento.length + 2));
                if (randomIndex >= bento.length) {
                    return <div class="w-20 h-20 border-5 border-dashed border-[var(--color-text)]/20 rounded-2xl"></div>;
                }
                return (
                    <div class="w-20 h-20 overflow-hidden rounded-2xl">
                        <img src={bento[randomIndex]} class="w-full h-full object-cover" />
                    </div>
                );
            })
        }
    </div>
</section>

<style> 
    #call-to-action {
        width: calc(100%-20px);
        background-color: color-mix(in oklab, var(--color-bg) 100%, transparent 40%);
        backdrop-filter: blur(10px);
        border-top: 1px solid var(--color-text);
        border-bottom: 1px solid var(--color-text);
    }

    #bento {
        position: absolute;
        top: 100px;
        left: auto;
        right: auto;
        mask-image: linear-gradient(to bottom, black 50%, transparent 94%);
        z-index: -1;
    }

    @media (min-width: 344px) and (max-width: 867px) {
        #bento div {
            width: 120px;
            height: 120px;
        }

        #call-to-action div {
            display: flex;
            flex-direction: column;
        }
        #call-to-action div a {
            font-size: 32px;
        }
    }

    @media (min-width: 868px) {
        section {
            padding-top: 180px;
            padding-bottom: calc(100vh- 516.93px);
            padding-left: 10%;
            gap: 24px;
        }

        #call-to-action {
            min-width: 460px;
            width: 460px;
            border: none;
            background: linear-gradient(
                to bottom,
                transparent,
                color-mix(in oklab, var(--color-text) 2%, transparent 100%) 60%,
                transparent
            );
        }
        #call-to-action::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 1px;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent,
                color-mix(in oklab, var(--color-text) 80%, transparent 100%) 50%,
                transparent
            );
        }
        #call-to-action p {
            text-align: left;
        }

        #bento {
            position: static;
            display: grid;
            grid-template-columns: repeat(6, 120px);
            grid-template-rows: repeat(3, 120px);
            mask-image: linear-gradient(to right, black 50%, transparent 94%);
        }
        #bento div {
            width: 120px;
            height: 120px;
        }
    }
</style>